%-*-Erlang-*-
{erl_opts, [debug_info, {parse_transform, lager_transform}]}.
{minimum_otp_vsn, "19.0"}.

{deps, [
    {lager,          "3.7.0"},
    {exometer_core,  "1.5.2"}
]}.

{pre_hooks, [{compile, "escript dicts_compiler.erl compile"},
             {clean, "escript dicts_compiler.erl clean"}]}.

{profiles, [
            {test, [
                    {erl_opts, [nowarn_export_all]},
                    {deps, [{meck, "0.8.13"}]},
                    {plugins, [coveralls]}
                   ]}
           ]}.

%% xref checks to run
{xref_checks, [locals_not_used, deprecated_function_calls,
	       deprecated_functions]}.

{cover_enabled, true}.
{cover_export_enabled, true}.
{coveralls_service_name, "travis-ci"}.
{do_coveralls_after_ct, false}.
{do_coveralls_after_eunit, false}.
{coveralls_coverdata, "_build/test/cover/ct.coverdata"}.
{coveralls_service_name, "travis-ci"}.
